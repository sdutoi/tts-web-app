export type UILang = 'en' | 'de';

type Dict = Record<string, string>;

// Simple flat key dictionary. Use dot notation for grouping.
export const translations: Record<UILang, Dict> = {
  en: {
  'landing.title': 'ConvoLutions',
  'landing.subtitle': '',
    'landing.changeLanguage': 'Change language',
  // footer removed in streamlined UI
    'common.language': 'Language',
    'common.level': 'Level',
    'common.scenario': 'Scenario',
    'common.generate': 'Generate',
    'common.refine': 'Refine',
    'common.words': 'Words',
    'common.speed': 'Speed',
    'common.format': 'Format',
    'common.download': 'Download audio',
    'common.generateAudio': 'Generate audio',
  'dialogue.title': 'ConvoLutions',
    'dialogue.scenarioVocabulary': 'Scenario Vocabulary (random 5)',
    'dialogue.reshuffle': 'Reshuffle',
    'dialogue.yourOwnWords': 'Your Own Words (any language)',
  'dialogue.yourOwnWords.hint': 'Put each desired word / phrase on a new line',
    'dialogue.chooseVoicesTitle': 'Choose Voices',
    'dialogue.chooseVoicesDescription': 'Preview voices reading a sample sentence, then assign two distinct voices (A & B). This does not change the dialogue text—only playback.',
    'dialogue.dialogueTitle': 'Dialogue',
    'dialogue.playbackSettings': 'Playback Settings',
  'dialogue.downloadFull': 'Download Full Dialogue',
    'dialogue.buildingCombined': 'Building combined audio… Please wait.',
    'dialogue.currentVoices': 'Current',
  'dialogue.voicesLabel': 'Voices',
  'dialogue.voicesPickedNote': 'You manually picked these from the preview list above.',
  'dialogue.audioCacheNote': 'Audio cached per text/voice/speed. Use WAV for reliable gaps (MP3 concat may collapse them).',
  'dialogue.translateExplain': 'Translate and explain',
  'dialogue.translateExplainHint': 'Show each turn with translation and brief notes',
  'dialogue.translation': 'Translation',
  'dialogue.explanation': 'Explanation',
  'dialogue.copyAll': 'Copy all',
  'dialogue.creativity': 'Creativity',
  'dialogue.creativityHint': 'Higher = more diverse; Lower = more focused',
  'dialogue.length': 'Length',
  'dialogue.length.short': 'Short',
  'dialogue.length.medium': 'Medium',
  'dialogue.length.long': 'Long',
  'dialogue.voiceChipTitle': 'Click to play a sample.',
  'dialogue.compiling': 'Compiling {done}/{total}',
  'dialogue.finalizeCTA': "I'm happy — choose voices",
  'dialogue.chooseVoicesButton': 'Choose voices',
  'dialogue.refineTitle': 'Refine / Improve',
  'dialogue.refinePlaceholder': 'Suggest changes: tone, add/remove vocab, adjust formality, length, etc.',
  'dialogue.gap': 'Gap',
  'dialogue.pickScenario': 'pick a scenario',
  'dialogue.ownScenario': 'own scenario',
  'dialogue.pickScenarioHint': 'Pick a scenario (or own) to see suggestions.',
  'dialogue.customWords.placeholder': 'Enter words or phrases separated by commas or new lines',
  'dialogue.speakerA': 'Speaker A',
  'dialogue.speakerB': 'Speaker B',
  'dialogue.dragVoiceHere': 'drag voice here',
  'dialogue.customScenarioTitle': 'Describe the scene for our dialogue',
  'dialogue.customScenarioPlaceholder': 'e.g. Two friends planning a hiking trip in the Alps',
  'errors.moreDetail': 'Please add a bit more detail.',
  'common.audio': 'Audio',
  'common.close': 'Close',
  'common.done': 'Done',
  'common.cancel': 'Cancel',
  'common.confirm': 'Confirm',
  'common.noItems': 'No items.',
    'labels.selected': 'Selected',
    'labels.custom': 'Custom',
    'placeholders.styleTone': 'Style / tone (optional)',
    'placeholders.extraInstructions': 'Extra instructions (optional)',
    'placeholders.interests': 'Interests / themes (e.g., travel, cooking, sci-fi)',
    'placeholders.optionalSentence': 'Optional sentence to include (in target language)',
    'placeholders.optionalStyle': 'Optional style/tone (e.g., funny, dramatic)',
  'seed.sentence': 'Seed sentence:',
  'common.loading': 'Working…'
  ,
  // Proficiency modal
  'proficiency.title': 'Pick your comfort level',
  'proficiency.description': 'Read the sentences and click the highest level where you still feel comfortable. This helps tailor vocab & dialogue complexity.',
  'proficiency.skip': 'Skip',
  'proficiency.confirm': 'Confirm Level'
  },
  de: {
  'landing.title': 'ConvoLutions',
  'landing.subtitle': '',
    'landing.changeLanguage': 'Sprache ändern',
  // footer removed in streamlined UI
    'common.language': 'Sprache',
    'common.level': 'Niveau',
    'common.scenario': 'Szenario',
    'common.generate': 'Erzeugen',
    'common.refine': 'Verfeinern',
    'common.words': 'Wörter',
    'common.speed': 'Geschw.',
    'common.format': 'Format',
    'common.download': 'Audio herunterladen',
    'common.generateAudio': 'Audio erzeugen',
  'dialogue.title': 'ConvoLutions',
    'dialogue.scenarioVocabulary': 'Szenario-Wortschatz (zufällige 5)',
    'dialogue.reshuffle': 'Neu mischen',
    'dialogue.yourOwnWords': 'Eigene Wörter (beliebige Sprache)',
  'dialogue.yourOwnWords.hint': 'Schreibe jedes gewünschte Wort / jede Phrase in eine neue Zeile',
    'dialogue.chooseVoicesTitle': 'Stimmen wählen',
    'dialogue.chooseVoicesDescription': 'Höre Beispielsätze an und wähle zwei unterschiedliche Stimmen (A & B). Dies ändert nur die Wiedergabe – nicht den Text.',
    'dialogue.dialogueTitle': 'Dialog',
    'dialogue.playbackSettings': 'Wiedergabe-Einstellungen',
  'dialogue.downloadFull': 'Gesamten Dialog herunterladen',
    'dialogue.buildingCombined': 'Kombiniertes Audio wird erstellt… Bitte warten.',
    'dialogue.currentVoices': 'Aktuell',
  'dialogue.voicesLabel': 'Stimmen',
  'dialogue.voicesPickedNote': 'Du hast diese manuell aus der obigen Vorschau-Liste gewählt.',
  'dialogue.audioCacheNote': 'Audio wird pro Text/Stimme/Geschwindigkeit zwischengespeichert. Für verlässliche Pausen WAV verwenden (MP3-Zusammenfügen kann Pausen verschlucken).',
  'dialogue.translateExplain': 'Übersetzen und erklären',
  'dialogue.translateExplainHint': 'Zeige jede Sprecher‑Zeile mit Übersetzung und kurzen Notizen',
  'dialogue.translation': 'Übersetzung',
  'dialogue.explanation': 'Erklärung',
  'dialogue.copyAll': 'Alles kopieren',
  'dialogue.creativity': 'Kreativität',
  'dialogue.creativityHint': 'Höher = vielfältiger; Niedriger = fokussierter',
  'dialogue.length': 'Länge',
  'dialogue.length.short': 'Kurz',
  'dialogue.length.medium': 'Mittel',
  'dialogue.length.long': 'Lang',
  'dialogue.voiceChipTitle': 'Zum Anhören klicken.',
  'dialogue.compiling': 'Wird zusammengefügt {done}/{total}',
  'dialogue.finalizeCTA': 'Ich bin zufrieden – Stimmen wählen',
  'dialogue.chooseVoicesButton': 'Stimmen wählen',
  'dialogue.refineTitle': 'Verfeinern / Verbessern',
  'dialogue.refinePlaceholder': 'Schlage Änderungen vor: Ton, Vokabeln hinzufügen/entfernen, Formalität, Länge usw.',
  'dialogue.gap': 'Pause',
  'dialogue.pickScenario': 'Szenario auswählen',
  'dialogue.ownScenario': 'Eigenes Szenario',
  'dialogue.pickScenarioHint': 'Wähle ein Szenario (oder eigenes), um Vorschläge zu sehen.',
  'dialogue.customWords.placeholder': 'Wörter oder Phrasen, getrennt durch Kommas oder Zeilenumbrüche',
  'dialogue.speakerA': 'Sprecher A',
  'dialogue.speakerB': 'Sprecher B',
  'dialogue.dragVoiceHere': 'Stimme hierher ziehen',
  'dialogue.customScenarioTitle': 'Beschreibe die Szene für unseren Dialog',
  'dialogue.customScenarioPlaceholder': 'z. B. Zwei Freunde planen eine Wanderung in den Alpen',
  'errors.moreDetail': 'Bitte füge noch etwas mehr Details hinzu.',
  'common.audio': 'Audio',
  'common.close': 'Schließen',
  'common.done': 'Fertig',
  'common.cancel': 'Abbrechen',
  'common.confirm': 'Bestätigen',
  'common.noItems': 'Keine Einträge.',
    'labels.selected': 'Ausgewählt',
    'labels.custom': 'Benutzerdefiniert',
    'placeholders.styleTone': 'Stil / Ton (optional)',
    'placeholders.extraInstructions': 'Zusätzliche Anweisungen (optional)',
    'placeholders.interests': 'Interessen / Themen (z.B. Reisen, Kochen, Sci-Fi)',
    'placeholders.optionalSentence': 'Optionaler Satz (in Zielsprache)',
    'placeholders.optionalStyle': 'Optionaler Stil/Ton (z.B. lustig, dramatisch)',
  'seed.sentence': 'Ausgangssatz:',
  'common.loading': 'Wird verarbeitet…'
  ,
  // Proficiency modal
  'proficiency.title': 'Wähle dein Wohlfühl‑Niveau',
  'proficiency.description': 'Lies die Sätze und klicke das höchste Niveau, auf dem du dich noch wohlfühlst. So passen wir Wortschatz und Dialogkomplexität an.',
  'proficiency.skip': 'Überspringen',
  'proficiency.confirm': 'Niveau bestätigen'
  }
};

// Add nav.home key for both languages
translations.en['nav.home'] = 'Home';
translations.de['nav.home'] = 'Startseite';
// Removed hero/feature/story keys for streamlined UX

export function translate(lang: UILang, key: string, vars?: Record<string, string | number>): string {
  const dict = translations[lang] || translations.en;
  let value = dict[key] || translations.en[key] || key;
  if (vars) {
    for (const [k,v] of Object.entries(vars)) {
      value = value.replace(new RegExp('\\{'+k+'\\}','g'), String(v));
    }
  }
  return value;
}
